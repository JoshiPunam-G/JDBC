package com.bridgelabz.clinic;


import java.io.File;

import java.io.IOException;
import java.util.List;

import org.codehaus.jackson.map.ObjectMapper;
import org.codehaus.jackson.type.TypeReference;


import com.bridgelaz.clinic.model.Appointment;
import com.bridgelaz.clinic.model.Clinic;
import com.bridgelaz.clinic.model.Doctor;
import com.bridgelaz.clinic.model.Patient;
import com.bridgelaz.clinic.model.User;
import Utility.Utility;


public class ClinicImpl implements ClinicInterface{


	public static void main(String[] args) {
		
    ObjectMapper mapper=new ObjectMapper();
   
    
	try {
//		List<User> userlist=mapper.readValue(new File(userfile), new TypeReference<List<User>>() {});
//		
//		List<Clinic> cliniclist=mapper.readValue(new File(clinicfile), new TypeReference<List<Clinic>>() {});
		
		List<Doctor> doctorlist=mapper.readValue(new File(doctorfile), new TypeReference<List<Doctor>>() {});
		
		List<Patient> patientlist=mapper.readValue(new File(patientfile), new TypeReference<List<Patient>>() {});
		
		List<Appointment> appointmentlist=mapper.readValue(new File(appointmentfile), new TypeReference<List<Appointment>>() {});
			
		
		ClinicUtility utill=new ClinicUtility();
		
		//utill.addUser(userlist);
		//utill.addClinic(cliniclist);
		//utill.addDoctor(doctorlist);
		//utill.addPatient(patientlist);
		utill.addAppointment(appointmentlist);
		
//		System.out.println("1.Add User ");
//		System.out.println("2.Add Clinic ");
		

		
        int count=0;
        
        while(count>=0)
        {
        	System.out.println("1.Add doctor");
            System.out.println("2.Add Patient");
            System.out.println("3.Add Appointment ");
            System.out.println("4.Search Doctor");
           
            System.out.println();
            System.out.println("Enter Your Choice");
            
        int choice=Utility.isInteger();
        	switch(choice)
        	{
        	case 1:
        		utill.addDoctor(doctorlist);
        		break;
        	
        	case 2:
        		utill.addPatient(patientlist);
        		break;
        		
        	case 3:
        		utill.addAppointment(appointmentlist);
        		break;
        		
        	case 4:
        		
        	
        	}
        }
		
		
		}
	 catch (IOException e) {
		e.printStackTrace();
	}

	
	
	
	}


	
}
